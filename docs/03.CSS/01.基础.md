# css 基础

## 如何理解 CSS 的盒子模型？

- 标准盒子模型：宽度=内容的宽度（content）+ border + padding

  > 属性只包含 width,height。不包含 border，paddinig

- 低版本 IE 盒子模型：宽度=内容宽度（content+border+padding）

  > 属性包含 width,height 和 border，paddinig

:::tip 兼容性

- 在 ie8+浏览器中使用哪个盒模型可以由 box-sizing(CSS 新增的属性)控制，默认值为 content-box，即标准盒模型
- 如果将 box-sizing 设为 border-box 则用的是 IE 盒模型。
- 如果在 ie6,7,8 中 DOCTYPE 缺失会触发 IE 模式。
- 在当前 W3C 标准中盒模型是可以通过 box-sizing 自由的进行切换的。

:::

## BFC 是什么 怎么生成 BFC BFC 作用

- BFC 解释：块级格式化上下文(block formatting context)

> 块级格式化上下文，是一个独立的渲染区域，让处于 BFC 内部的元素与外部的元素相互隔离，使内外元素的定位不会相互影响。
> TODO 补充完整的 BFC 相关截图

- 创建规则 :

  - 根元素
  - 浮动元素 **(float 不为 none)**
  - 绝对定位元素 **(position 取值为 absolute 或 fixed）**
  - `display` 取值为 ：`inline-box`、`table-cell`、`table-caption`、`flex`、`inline-flex` 之一的元素
  - `overflow` 不为 `visible` 的元素

- 作用：
  - 可以包含浮动元素 —— 清除内部浮动(清除浮动的原理是两个 div 都位于`同一个 BFC` 区域之中)
  - 不被浮动元素覆盖
  - 阻止父子元素的 [margin 折叠](#margin-折叠)

## margin 折叠

> 外边距重叠是指两个或多个盒子(可能相邻也可能嵌套)的相邻边界(其间没有任何非空内容、补白、边框)重合在一起而形成一个单一边界。
> TODO 补充完整的 margin 相关截图

**外边距重叠计算方式：**

- 全部都为正值，取最大者
- 不全是正值，则都取绝对值，然后用正值的最大值减去绝对值的最大值
- 没有正值，则都取绝对值，然后用 0 减去最大值

**解决方法：**
让父元素创建一个 BFC 区域

## 清除浮动

> 不清楚浮动会发生高度塌陷：浮动元素父元素高度自适应（父元素不写高度时，子元素写了浮动后，父元素会发生高度塌陷）

**解决方法：**

- 添加空 div :在浮动元素下方添加`空 div`,并给该元素写 css 样式：`{clear:both;height:0;overflow:hidden;}`
- 给浮动元素父级设置高度(此时父级元素高度固定，而不是根据子元素自适应)
- 父级同时浮动（需要给父级同级元素添加浮动） 原理 -> [bfc-是什么-怎么使用](#bfc-是什么-怎么生成-bfc-bfc-作用)
- 父级 div 定义伪类 `:after` 和自身的 `zoom` 清浮动（现在主流方法，推荐使用） 拓展阅读： [伪类和伪元素区别](#伪类和伪元素)

```css
.clear-float {
  zoom: 1;
}
/* 注意只是单冒号，详情可以见伪类和伪元素的区别 */
.clear-float:after {
  clear: both;
  display: block;
  height: 0;
  overflow: hidden;
  visibility: hidden;
}
```

## 伪类和伪元素

- 伪类表状态
- 伪元素是`真的有元素`
- 前者单冒号，后者双冒号
- 伪元素必须有 `content` 属性

```css
/* 伪类 */
div:after {
}

div:hover {
}

/* 伪元素 */
div::after {
  content: '这是可以渲染出来的元素';
}
```

## 让一个 div 垂直居中

1. 高度固定的

```css
/* 父级元素 */
.parent {
  height: 200px;
  width: 200px;
}

/* 子元素 */
.parent .child {
  width: 100px;
  height: 100px;
  margin: 50px;
}
```

2. 高度不固定 - 定位法

```css
/* 父级元素 */
.parent {
  position: relative;
}

/* 子元素 */
.parent .child {
  position: absolute;
  width: 100px;
  height: 100px;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
}
```

3. 高度不固定 - flex 布局

```css
/* 父级元素 */
.parent {
  display: flex;
  justify-content: center;
  align-items: center;
}

/* 子元素 */
.parent .child {
  width: 100px;
  height: 100px;
}
```
